#:import Section uix.components.section
#:import HistoryItem uix.components.history_item


<HistoryScreen>
    FitImage:
        size_hint: None, None
        size: root.size
        source: "assets/images/background.png"
        allow_stretch: True

    MDRelativeLayout:
        Section:
            text: app.i18n._("SECTION_HISTORY")  # "HISTORY"
            pos_hint: {"center_x": 0.5, "center_y": 0.485}
            size_hint_y: 0.9
            size_hint_x: None
            width: self.parent.width * 0.8
            label_bg_color: 0/255, 66/255, 153/255, 1
            callback: root.to_home
            icon: "book"

            BoxLayout:
                size_hint_y: None
                height: root.height * 0.85
                RecycleView:
                    id: table_floor
                    viewclass: 'HistoryItem'
                    scroll_type: ['bars', 'content']
                    scroll_wheel_distance: dp(30)
                    bar_width: dp(5)
                    RecycleBoxLayout:
                        id: table_floor_layout
                        default_size: None, dp(70)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        # row_default_height: 300 # add this so you can scroll
                        orientation: 'vertical'
        
        MDSpinner:
            size_hint: None, None
            size: dp(46), dp(46)
            pos_hint: {'center_x': .5, 'center_y': .5}
            active: True if root.refreshing else False


