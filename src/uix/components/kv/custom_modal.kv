#:import KMDCard uix.base_components.kmd_card
#:import KMDIconButton uix.base_components.kmd_icon_button

<CustomModal>:
    image: ''
    text: ''
    subtext: ''
    bg_color: 1,1,1,1

    KMDCard:
        id: card
        radius: dp(32)
        elevation: 18
        padding: dp(15)
        #md_bg_color: root.bg_color
        MDBoxLayout:
            id: container
            padding: [dp(10), dp(30), dp(10), dp(30)]
            orientation: 'vertical'
            Image:
                source: root.image
            MDBoxLayout:
                orientation: 'vertical'
                MDLabel:
                    halign: "center"
                    text: root.text
                    font_style: "H6"
                MDLabel:
                    halign: "center"
                    font_style: "Caption"
                    text: root.subtext
    MDBoxLayout:
        id: buttons_container
        orientation: 'horizontal'
        spacing: dp(5)
        x: card.width / 2 - self.width / 2
        y: -self.height / 2
        size_hint_x: None
        width: root.width*0.8
        adaptive_size: True

    KMDCard:
        id: close_button
        elevation: 0
        x: card.width - dp(40) - self.width / 2
        y: card.height - self.height / 2
        size_hint: None, None
        size: 48, 48
        radius: dp(24)
        on_release: root.dispatch("on_close")
        KMDIconButton:
            icon: "close"
            _radius: dp(24)
            icon_color: "#ffffff"
            md_bg_color: 0.9, 0.1, 0.1, 1









